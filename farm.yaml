- job:
      name: 'Gerrit-Stats'
      node: master
      description: 'Generate Gerrit Stats Automatically By Jenkins Jobs'
      parameters:
          - choice:
                name: TYPE_OF_UPDATE
                choices:
                    - data
                    - ui
                default: 'data'
                description: 'Type of update'
          - bool:
                name: SKIP_DOWNLOAD_STEP
                value: false
                description: 'Skip download step'
          - bool:
                name: SKIP_GENERATE_STATS_STEP
                value: false
                description: 'Skip generate stats step'
          - string:
                name: ARTIFACT_PATH
                description: 'Where to collect artifacts'
                default: '/storage/artifacts/farm/gerrit-stats/VERSION'
      properties:
          - build-discarder:
                days-to-keep: 15
      triggers:
          - timed: '0 0 * * 0'
      builders:
          - shell: !include-raw: gerrit-stats.sh
      publishers:
          - save-gerrit-stats-artifacts
